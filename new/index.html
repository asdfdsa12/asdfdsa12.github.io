<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>BA Spine Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/@esotericsoftware/spine-player@4.2.*/dist/spine-player.css">
    <link rel="icon" href="favicon.ico">
    <style>
        body { background: #1a1a1a; color: #eee; font-family: sans-serif; margin: 0; overflow: hidden; display: flex; }

        #sidebar {
            position: fixed;
            top: 0;
            left: -320px;
            width: 300px;
            height: 100vh;
            background: #252525;
            box-shadow: 5px 0 15px rgba(0,0,0,0.5);
            transition: left 0.3s ease;
            z-index: 1000;
            padding: 60px 20px 20px 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        #sidebar.open { left: 0; }

        #menu-toggle {
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 1001;
            background: #2b6cb0;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        #player-container { 
            width: 100vw;
            height: 100vh; 
            background-color: #000;
        }

        #player-container canvas {
            width: 200% !important;
            height: 200% !important;
            transform: scale(0.5);
            transform-origin: top left;
        }

        .search-container { position: relative; width: 100%; }
        #charSearch { 
            width: 100%; padding: 12px; border-radius: 4px; background: #444; 
            color: white; border: 1px solid #666; outline: none; box-sizing: border-box;
        }
        .options-list { 
            position: absolute; top: 50px; left: 0; width: 100%; max-height: 400px; 
            background: #333; border: 1px solid #555; border-radius: 4px; 
            overflow-y: auto; z-index: 1100; display: none;
        }
        .options-list.show { display: block; }
        .option-item { padding: 12px; cursor: pointer; border-bottom: 1px solid #444; font-size: 14px; }
        .option-item:hover { background: #2b6cb0; }
        .option-item.hidden { display: none; }

        .btn-group { display: flex; flex-direction: column; gap: 10px; margin-top: 10px; }
        button.action-btn { padding: 12px; border-radius: 4px; border: none; cursor: pointer; color: white; background: #555; font-weight: bold; width: 100%; }
        button.action-btn:hover { background: #666; }
        #record-btn { background-color: #e74c3c; }
        .anim-container-wrapper {
            background: #333;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #444;
            margin-top: 10px;
        }

        #animation-list {
            max-height: 400px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        #animation-list::-webkit-scrollbar { width: 6px; }
        #animation-list::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 10px;
        }

        #animation-list button {
            width: 100%;
            min-height: 45px; 
            padding: 0 15px;
            
            background: #444;
            color: #eee;
            border: 1px solid #555;
            border-radius: 4px;
            cursor: pointer;
            
            display: flex;
            align-items: center;
            justify-content: flex-start;
            
            font-size: 14px;
            font-weight: bold;
            line-height: 1;
            
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            transition: all 0.2s;
        }

        #animation-list button:hover {
            background: #3a3a3a;
            border-color: #2b6cb0;
        }

        #animation-list button.active {
            background: #2b6cb0;
            border-color: #63b3ed;
            color: #ffffff;
        }
    </style>
</head>
<body>

    <button id="menu-toggle" onclick="toggleSidebar()">☰ 메뉴 열기</button>
    <div id="sidebar">
        <label>캐릭터 검색: </label>

        <div class="search-container">
            <input type="text" id="charSearch" placeholder="이름 입력..." autocomplete="off">
            <div id="options-list" class="options-list">
                <div class="option-item" data-value="CH0222_spr">나구사</div>
                <div class="option-item" data-value="NP0162_spr">나구사_2</div>
                <div class="option-item" data-value="NP0249_spr">나구사_3</div>
                <div class="option-item" data-value="CH0303_spr">나구사(수영복)</div>
                <div class="option-item" data-value="nagisa_spr">나기사</div>
                <div class="option-item" data-value="NP0083_spr">나기사(기립)</div>
                <div class="option-item" data-value="CH0293_spr">나기사(수영복)</div>
                <div class="option-item" data-value="CH0155_spr">나츠</div>
                <div class="option-item" data-value="CH0221_spr">나츠(밴드)</div>
                <div class="option-item" data-value="NP0190_spr">나츠(밴드)_2</div>
                <div class="option-item" data-value="NP0057_spr">나츠(체육복)</div>
                <div class="option-item" data-value="NP0228_spr">나츠(할로윈)</div>
                <div class="option-item" data-value="neru_spr">네루</div>
                <div class="option-item" data-value="CH0280_spr">네루(교복)</div>
                <div class="option-item" data-value="CH0101_spr">네루(바니걸)</div>
                <div class="option-item" data-value="NP0088_spr">네루(부상)_1</div>
                <div class="option-item" data-value="NP0089_spr">네루(부상)_2</div>
                <div class="option-item" data-value="nonomi_spr">노노미</div>
                <div class="option-item" data-value="NP0171_spr">노노미(1학년)</div>
                <div class="option-item" data-value="NP0195_spr">노노미(1학년)_2</div>
                <div class="option-item" data-value="nonomi_robber_spr">노노미(복면)</div>
                <div class="option-item" data-value="NP0176_spr">노노미(부상)</div>
                <div class="option-item" data-value="CH0092_spr">노노미(수영복)</div>
                <div class="option-item" data-value="NP0067_spr">노노미(수영복)(복면)</div>
                <div class="option-item" data-value="NP0044_spr">노노미(체육복)</div>
                <div class="option-item" data-value="nodoka_spr">노도카</div>
                <div class="option-item" data-value="CH0165_spr">노도카(온천)</div>
                <div class="option-item" data-value="CH0095_spr">노아</div>
                <div class="option-item" data-value="NP0043_spr">노아(체육복)</div>
                <div class="option-item" data-value="CH0285_spr">노아(파자마)</div>
                <div class="option-item" data-value="CH0243_spr">노조미</div>
                <div class="option-item" data-value="CH0109_spr">니야</div>
                <div class="option-item" data-value="NP0248_spr">니야(부상)</div>
                <div class="option-item" data-value="CH0172_spr">니코</div>
                <div class="option-item" data-value="NP0139_spr">니코(비무장)</div>
                <div class="option-item" data-value="CH0166_spr">라브</div>
                <div class="option-item" data-value="CH0279_spr">라브(수영복)</div>
                <div class="option-item" data-value="NP0262_spr">라브(인형탈)</div>
                <div class="option-item" data-value="CH0305_spr">레나</div>
                <div class="option-item" data-value="CH0245_spr">레이</div>
                <div class="option-item" data-value="CH0167_spr">레이사</div>
                <div class="option-item" data-value="CH0326_spr">레이사(매지컬)</div>
                <div class="option-item" data-value="reizyo_spr">레이죠</div>
                <div class="option-item" data-value="CH0224_spr">렌게</div>
                <div class="option-item" data-value="CH0302_spr">렌게(수영복)</div>
                <div class="option-item" data-value="CH0135_spr">루미</div>
                <div class="option-item" data-value="NP0233_spr">루미(어린이)</div>
                <div class="option-item" data-value="CH0158_spr">리오</div>
                <div class="option-item" data-value="CH0331_spr">리오(무장)</div>
                <div class="option-item" data-value="NP0240_spr">리오(방한복)</div>
                <div class="option-item" data-value="CH0319_spr">리츠</div>
                <div class="option-item" data-value="rin_spr">린</div>
                <div class="option-item" data-value="NP0097_spr">린(승무복)</div>
                <div class="option-item" data-value="mari_spr">마리</div>
                <div class="option-item" data-value="CH0186_spr">마리(체육복)</div>
                <div class="option-item" data-value="CH0273_spr">마리(아이돌)</div>
                <div class="option-item" data-value="marina_spr">마리나</div>
                <div class="option-item" data-value="CH0270_spr">마리나(치파오)</div>
                <div class="option-item" data-value="mashiro_spr">마시로</div>
                <div class="option-item" data-value="mashiro_swimsuit_spr">마시로(수영복)</div>
                <div class="option-item" data-value="NP0062_spr">마시로(체육복)</div>
                <div class="option-item" data-value="mai_spr">마이</div>
                <div class="option-item" data-value="CH0324_spr">마이아</div>
                <div class="option-item" data-value="CH0079_spr">마코토</div>
                <div class="option-item" data-value="CH0253_spr">마코토(드레스)</div>
                <div class="option-item" data-value="maki_spr">마키</div>
                <div class="option-item" data-value="CH0235_spr">마키(캠핑)</div>
                <div class="option-item" data-value="CH0312_spr">마키(파자마)</div>
                <div class="option-item" data-value="NP0050_spr">마키(체육복)</div>
                <div class="option-item" data-value="CH0088_spr">메구</div>
                <div class="option-item" data-value="CH0329_spr">메구(수영복)</div>
                <div class="option-item" data-value="CH0124_spr">메루</div>
                <div class="option-item" data-value="CH0125_spr">메루(온천)</div>
                <div class="option-item" data-value="momoi_spr">모모이</div>
                <div class="option-item" data-value="CH0201_spr">모모이(메이드)</div>
                <div class="option-item" data-value="NP0267_spr">모모이(무장)</div>
                <div class="option-item" data-value="NP0235_spr">모모이(방한복)</div>
                <div class="option-item" data-value="momoka_spr">모모카</div>
                <div class="option-item" data-value="NP0098_spr">모모카(승무복)</div>
                <div class="option-item" data-value="momiji_spr">모미지</div>
                <div class="option-item" data-value="moe_spr">모에</div>
                <div class="option-item" data-value="CH0216_spr">모에(수영복)</div>
                <div class="option-item" data-value="NP0073_spr">모에(체육복)</div>
                <div class="option-item" data-value="mutsuki_spr">무츠키</div>
                <div class="option-item" data-value="CH0246_spr">무츠키(드레스)</div>
                <div class="option-item" data-value="mutsuki_newyear_spr">무츠키(새해)</div>
                <div class="option-item" data-value="CH0248_spr">무츠키(정장)</div>
                <div class="option-item" data-value="CH0138_spr">미나</div>
                <div class="option-item" data-value="CH0152_spr">미네</div>
                <div class="option-item" data-value="CH0275_spr">미네(아이돌)</div>
                <div class="option-item" data-value="CH0214_spr">미노리</div>
                <div class="option-item" data-value="midori_spr">미도리</div>
                <div class="option-item" data-value="CH0202_spr">미도리(메이드)</div>
                <div class="option-item" data-value="NP0268_spr">미도리(무장)</div>
                <div class="option-item" data-value="NP0236_spr">미도리(방한복)</div>
                <div class="option-item" data-value="CH0283_spr">미라이</div>
                <div class="option-item" data-value="mimori_spr">미모리</div>
                <div class="option-item" data-value="CH0183_spr">미모리(수영복)</div>
                <div class="option-item" data-value="CH9998_spr">미사카 미코토</div>
                <div class="option-item" data-value="NP0168_spr">미사카 미코토(비무장)</div>
                <div class="option-item" data-value="misaki_spr">미사키</div>
                <div class="option-item" data-value="CH0268_spr">미사키(수영복)</div>
                <div class="option-item" data-value="miyako_spr">미야코</div>
                <div class="option-item" data-value="CH0215_spr">미야코(수영복)</div>
                <div class="option-item" data-value="NP0070_spr">미야코(체육복)</div>
                <div class="option-item" data-value="CH0145_spr">미유</div>
                <div class="option-item" data-value="CH0218_spr">미유(수영복)</div>
                <div class="option-item" data-value="NP0071_spr">미유(체육복)</div>
                <div class="option-item" data-value="CH0317_spr">미요</div>
                <div class="option-item" data-value="CH0113_spr">미치루</div>
                <div class="option-item" data-value="CH0296_spr">미치루(드레스)</div>
                <div class="option-item" data-value="CH0069_spr">미카</div>
                <div class="option-item" data-value="NP0041_spr">미카(부상)</div>
                <div class="option-item" data-value="NP0010_spr">미카(비무장)</div>
                <div class="option-item" data-value="NP0100_spr">미카(비무장)_2</div>
                <div class="option-item" data-value="CH0294_spr">미카(수영복)</div>
                <div class="option-item" data-value="NP0102_spr">미카(체육복)</div>
                <div class="option-item" data-value="NP0101_spr">미카(학교 수영복)</div>
                <div class="option-item" data-value="saya_spr">사야</div>
                <div class="option-item" data-value="saya_casual_spr">사야(사복)</div>
                <div class="option-item" data-value="saori_spr">사오리</div>
                <div class="option-item" data-value="CH0259_spr">사오리(드레스)</div>
                <div class="option-item" data-value="NP0164_spr">사오리(드레스)(비무장)</div>
                <div class="option-item" data-value="NP0012_spr">사오리(부상)</div>
                <div class="option-item" data-value="CH0266_spr">사오리(수영복)</div>
                <div class="option-item" data-value="NP0230_spr">사오리(수영복)_2</div>
                <div class="option-item" data-value="NP0103_spr">사오리(헬멧)</div>
                <div class="option-item" data-value="CH0080_spr">사츠키</div>
                <div class="option-item" data-value="sakurako_spr">사쿠라코</div>
                <div class="option-item" data-value="CH0274_spr">사쿠라코(아이돌)</div>
                <div class="option-item" data-value="NP0090_spr">사쿠라코(유스티나 성도복)</div>
                <div class="option-item" data-value="CH0144_spr">사키</div>
                <div class="option-item" data-value="CH0217_spr">사키(수영복)</div>
                <div class="option-item" data-value="NP0072_spr">사키(체육복)</div>
                <div class="option-item" data-value="CH9996_spr">사텐 루이코</div>
                <div class="option-item" data-value="NP0170_spr">사텐 루이코(비무장)</div>
                <div class="option-item" data-value="sena_spr">세나</div>
                <div class="option-item" data-value="CH0082_spr">세나(사복)</div>
                <div class="option-item" data-value="serina_spr">세리나</div>
                <div class="option-item" data-value="NP0075_spr">세리나(간호사)</div>
                <div class="option-item" data-value="CH0194_spr">세리나(크리스마스)</div>
                <div class="option-item" data-value="serika_spr">세리카</div>
                <div class="option-item" data-value="serika_robber_spr">세리카(복면)</div>
                <div class="option-item" data-value="NP0175_spr">세리카(부상)</div>
                <div class="option-item" data-value="serika_newyear_spr">세리카(새해)</div>
                <div class="option-item" data-value="CH0189_spr">세리카(수영복)</div>
                <div class="option-item" data-value="NP0065_spr">세리카(수영복)(복면)</div>
                <div class="option-item" data-value="serika_shibaseki_spr">세리카(아르바이트)</div>
                <div class="option-item" data-value="NP0217_spr">세리카(아이돌)</div>
                <div class="option-item" data-value="NP0047_spr">세리카(체육복)</div>
                <div class="option-item" data-value="CH0070_spr">세이아</div>
                <div class="option-item" data-value="NP0244_spr">세이아(박스)</div>
                <div class="option-item" data-value="CH0295_spr">세이아(수영복)</div>
                <div class="option-item" data-value="sora_spr">소라</div>
                <div class="option-item" data-value="CH9997_spr">쇼쿠호 미사키</div>
                <div class="option-item" data-value="NP0169_spr">쇼쿠호 미사키(비무장)</div>
                <div class="option-item" data-value="CH0227_spr">슈로</div>
                <div class="option-item" data-value="shun_spr">슌</div>
                <div class="option-item" data-value="CH0066_spr">슌(어린이)</div>
                <div class="option-item" data-value="NP0037_spr">스모모</div>
                <div class="option-item" data-value="sumire_spr">스미레</div>
                <div class="option-item" data-value="CH0287_spr">스미레(아르바이트)</div>
                <div class="option-item" data-value="NP0061_spr">스미레(체육복)</div>
                <div class="option-item" data-value="CH0309_spr">스바루</div>
                <div class="option-item" data-value="CH0244_spr">스오우</div>
                <div class="option-item" data-value="NP0177_spr">스오우_2</div>
                <div class="option-item" data-value="NP0178_spr">스오우_2(부상)</div>
                <div class="option-item" data-value="suzumi_spr">스즈미</div>
                <div class="option-item" data-value="CH0325_spr">스즈미(매지컬)</div>
                <div class="option-item" data-value="shigure_spr">시구레</div>
                <div class="option-item" data-value="CH0123_spr">시구레(온천)</div>
                <div class="option-item" data-value="shinon_spr">시논</div>
                <div class="option-item" data-value="shiroko_spr">시로코</div>
                <div class="option-item" data-value="NP0172_spr">시로코(1학년)</div>
                <div class="option-item" data-value="shiroko_robber_spr">시로코(복면)</div>
                <div class="option-item" data-value="NP0124_spr">시로코(부상)</div>
                <div class="option-item" data-value="shiroko_ridingsuit_spr">시로코(라이딩)</div>
                <div class="option-item" data-value="CH0188_spr">시로코(수영복)</div>
                <div class="option-item" data-value="NP0064_spr">시로코(수영복)(복면)</div>
                <div class="option-item" data-value="NP0046_spr">시로코(체육복)</div>
                <div class="option-item" data-value="CH0199_spr">시로코*테러</div>
                <div class="option-item" data-value="NP0231_spr">시로코*테러(복면)</div>
                <div class="option-item" data-value="NP0125_spr">시로코*테러(부상)</div>
                <div class="option-item" data-value="CH0263_spr">시로코*테러(학생)</div>
                <div class="option-item" data-value="NP0232_spr">시로코*테러(학생)(복면)</div>
                <div class="option-item" data-value="shimiko_spr">시미코</div>
                <div class="option-item" data-value="CH0327_spr">시미코(매지컬)</div>
                <div class="option-item" data-value="shizuko_spr">시즈코</div>
                <div class="option-item" data-value="CH0180_spr">시즈코(수영복)</div>
                <div class="option-item" data-value="NP0053_spr">시즈코(체육복)</div>
                <div class="option-item" data-value="CH0236_spr">아라타</div>
                <div class="option-item" data-value="NP0254_spr">아라타(수영복)</div>
                <div class="option-item" data-value="NP0266_spr">아라타(헬멧)</div>
                <div class="option-item" data-value="aru_spr">아루</div>
                <div class="option-item" data-value="aru_newyear_spr">아루(새해)</div>
                <div class="option-item" data-value="CH0240_spr">아루(드레스)</div>
                <div class="option-item" data-value="aris_spr">아리스</div>
                <div class="option-item" data-value="NP0234_spr">아리스(방한복)</div>
                <div class="option-item" data-value="aris_noweapon_spr">아리스(비무장)</div>
                <div class="option-item" data-value="CH0200_spr">아리스(메이드)</div>
                <div class="option-item" data-value="CH0334_spr">아리스(무장)</div>
                <div class="option-item" data-value="NP0281_spr">아리스(무장)(부상)</div>
                <div class="option-item" data-value="arona_spr">아로나</div>
                <div class="option-item" data-value="asuna_spr">아스나</div>
                <div class="option-item" data-value="CH0098_spr">아스나(바니걸)</div>
                <div class="option-item" data-value="CH0281_spr">아스나(교복)</div>
                <div class="option-item" data-value="ayane_spr">아야네</div>
                <div class="option-item" data-value="ayane_robber_spr">아야네(복면)</div>
                <div class="option-item" data-value="NP0174_spr">아야네(부상)</div>
                <div class="option-item" data-value="CH0176_spr">아야네(수영복)</div>
                <div class="option-item" data-value="NP0066_spr">아야네(수영복)(복면)</div>
                <div class="option-item" data-value="NP0108_spr">아야네(승무복)</div>
                <div class="option-item" data-value="NP0218_spr">아야네(아이돌)</div>
                <div class="option-item" data-value="NP0048_spr">아야네(체육복)</div>
                <div class="option-item" data-value="CH0223_spr">아야메</div>
                <div class="option-item" data-value="NP0206_spr">아야메(황혼)</div>
                <div class="option-item" data-value="NP0229_spr">아야메(황혼)_2</div>
                <div class="option-item" data-value="CH0288_spr">아오바</div>
                <div class="option-item" data-value="NP0032_spr">아오이</div>
                <div class="option-item" data-value="NP0013_spr">아유무</div>
                <div class="option-item" data-value="NP0099_spr">아유무(승무복)</div>
                <div class="option-item" data-value="airi_spr">아이리</div>
                <div class="option-item" data-value="CH0251_spr">아이리(밴드)</div>
                <div class="option-item" data-value="NP0189_spr">아이리(밴드)_2</div>
                <div class="option-item" data-value="NP0227_spr">아이리(할로윈)</div>
                <div class="option-item" data-value="CH0276_spr">아자미_1</div>
                <div class="option-item" data-value="CH0289_spr">아자미_2</div>
                <div class="option-item" data-value="azusa_spr">아즈사</div>
                <div class="option-item" data-value="NP0020_spr">아즈사(부상)</div>
                <div class="option-item" data-value="azusa_swimsuit_spr">아즈사(수영복)</div>
                <div class="option-item" data-value="NP0001_spr">아즈사(체육복)</div>
                <div class="option-item" data-value="NP0002_spr">아즈사(학교 수영복)</div>
                <div class="option-item" data-value="atsuko_spr">아츠코</div>
                <div class="option-item" data-value="NP0021_spr">아츠코(부상)</div>
                <div class="option-item" data-value="NP0077_spr">아츠코(비무장)</div>
                <div class="option-item" data-value="CH0267_spr">아츠코(수영복)</div>
                <div class="option-item" data-value="akane_spr">아카네</div>
                <div class="option-item" data-value="CH0099_spr">아카네(바니걸)</div>
                <div class="option-item" data-value="CH0307_spr">아카네(교복)</div>
                <div class="option-item" data-value="akari_spr">아카리</div>
                <div class="option-item" data-value="CH0196_spr">아카리(새해)</div>
                <div class="option-item" data-value="NP0068_spr">아카리(체육복)</div>
                <div class="option-item" data-value="ako_spr">아코</div>
                <div class="option-item" data-value="CH0231_spr">아코(드레스)</div>
                <div class="option-item" data-value="NP0019_spr">아코(부상)</div>
                <div class="option-item" data-value="NP0111_spr">아코(승무복)</div>
                <div class="option-item" data-value="NP0059_spr">아코(체육복)</div>
                <div class="option-item" data-value="CH0212_spr">아키라</div>
                <div class="option-item" data-value="CH0323_spr">아키라(미리아)</div>
                <div class="option-item" data-value="CH0265_spr">아케미</div>
                <div class="option-item" data-value="CH0228_spr">야쿠모</div>
                <div class="option-item" data-value="CH0304_spr">에리</div>
                <div class="option-item" data-value="erika_spr">에리카</div>
                <div class="option-item" data-value="eimi_spr">에이미</div>
                <div class="option-item" data-value="CH0219_spr">에이미(수영복)</div>
                <div class="option-item" data-value="CH0337_spr">에이미(무장)</div>
                <div class="option-item" data-value="CH0174_spr">오토기</div>
                <div class="option-item" data-value="NP0141_spr">오토기(비무장)</div>
                <div class="option-item" data-value="yoshimi_spr">요시미</div>
                <div class="option-item" data-value="CH0220_spr">요시미(밴드)</div>
                <div class="option-item" data-value="NP0187_spr">요시미(밴드)_2</div>
                <div class="option-item" data-value="NP0225_spr">요시미(할로윈)</div>
                <div class="option-item" data-value="wakamo_spr">와카모</div>
                <div class="option-item" data-value="wakamo_mask_spr">와카모(프롤로그)</div>
                <div class="option-item" data-value="NP0014_spr">와카모(변장)</div>
                <div class="option-item" data-value="CH0175_spr">와카모(수영복)</div>
                <div class="option-item" data-value="CH0110_spr">우미카</div>
                <div class="option-item" data-value="CH0169_spr">우이</div>
                <div class="option-item" data-value="CH0204_spr">우이(수영복)</div>
                <div class="option-item" data-value="utaha_spr">우타하</div>
                <div class="option-item" data-value="NP0221_spr">우타하(아이돌)</div>
                <div class="option-item" data-value="CH0182_spr">우타하(응원단)</div>
                <div class="option-item" data-value="Ch0157_spr">유메</div>
                <div class="option-item" data-value="NP0166_spr">유메(학교 수영복)</div>
                <div class="option-item" data-value="yuuka_spr">유우카</div>
                <div class="option-item" data-value="NP0109_spr">유우카(승무복)</div>
                <div class="option-item" data-value="CH0184_spr">유우카(체육복)</div>
                <div class="option-item" data-value="CH0284_spr">유우카(파자마)</div>
                <div class="option-item" data-value="yuzu_spr">유즈</div>
                <div class="option-item" data-value="CH0203_spr">유즈(메이드)</div>
                <div class="option-item" data-value="CH0336_spr">유즈(무장)</div>
                <div class="option-item" data-value="NP0126_spr">유즈(박스)</div>
                <div class="option-item" data-value="NP0237_spr">유즈(방한복)</div>
                <div class="option-item" data-value="CH0161_spr">유카리</div>
                <div class="option-item" data-value="NP0148_spr">유카리(무녀)</div>
                <div class="option-item" data-value="CH0301_spr">유카리(수영복)</div>
                <div class="option-item" data-value="NP0147_spr">유카리(중학생)</div>
                <div class="option-item" data-value="CH0171_spr">유키노</div>
                <div class="option-item" data-value="CH0156_spr">이로하</div>
                <div class="option-item" data-value="ibuki_spr">이부키</div>
                <div class="option-item" data-value="CH0254_spr">이부키(드레스)</div>
                <div class="option-item" data-value="iori_spr">이오리</div>
                <div class="option-item" data-value="CH0064_spr">이오리(수영복)</div>
                <div class="option-item" data-value="izuna_spr">이즈나</div>
                <div class="option-item" data-value="CH0298_spr">이즈나(드레스)</div>
                <div class="option-item" data-value="CH0179_spr">이즈나(수영복)</div>
                <div class="option-item" data-value="NP0052_spr">이즈나(체육복)</div>
                <div class="option-item" data-value="izumi_spr">이즈미</div>
                <div class="option-item" data-value="izumi_swimsuit_spr">이즈미(수영복)</div>
                <div class="option-item" data-value="CH0197_spr">이즈미(새해)</div>
                <div class="option-item" data-value="NP0051_spr">이즈미(체육복)</div>
                <div class="option-item" data-value="CH0071_spr">이치카</div>
                <div class="option-item" data-value="CH0292_spr">이치카(수영복)</div>
                <div class="option-item" data-value="NP0222_spr">이치카(연극)</div>
                <div class="option-item" data-value="juri_spr">주리</div>
                <div class="option-item" data-value="CH0286_spr">주리(아르바이트)</div>
                <div class="option-item" data-value="zunko_spr">준코</div>
                <div class="option-item" data-value="CH0192_spr">준코(새해)</div>
                <div class="option-item" data-value="NP0049_spr">준코(체육복)</div>
                <div class="option-item" data-value="cherino_spr">체리노</div>
                <div class="option-item" data-value="CH0164_spr">체리노(온천)</div>
                <div class="option-item" data-value="CH0278_spr">체리노(치파오)</div>
                <div class="option-item" data-value="NP0040_spr">총학생회장</div>
                <div class="option-item" data-value="tsurugi_spr">츠루기</div>
                <div class="option-item" data-value="CH0060_spr">츠루기(수영복)</div>
                <div class="option-item" data-value="NP0223_spr">츠루기(연극)</div>
                <div class="option-item" data-value="NP0058_spr">츠루기(체육복)</div>
                <div class="option-item" data-value="CH0252_spr">츠무기</div>
                <div class="option-item" data-value="tsubaki_spr">츠바키</div>
                <div class="option-item" data-value="CH0255_spr">츠바키(가이드)</div>
                <div class="option-item" data-value="CH0114_spr">츠쿠요</div>
                <div class="option-item" data-value="CH0297_spr">츠쿠요(드레스)</div>
                <div class="option-item" data-value="NP0056_spr">츠쿠요(체육복)</div>
                <div class="option-item" data-value="chinatsu_spr">치나츠</div>
                <div class="option-item" data-value="CH0163_spr">치나츠(온천)</div>
                <div class="option-item" data-value="chise_spr">치세</div>
                <div class="option-item" data-value="CH0178_spr">치세(수영복)</div>
                <div class="option-item" data-value="NP0055_spr">치세(체육복)</div>
                <div class="option-item" data-value="CH0238_spr">치아키</div>
                <div class="option-item" data-value="CH0160_spr">치히로</div>
                <div class="option-item" data-value="CH0234_spr">치히로(캠핑)</div>
                <div class="option-item" data-value="CH0313_spr">치히로(파자마)</div>
                <div class="option-item" data-value="CH0272_spr">카구야</div>
                <div class="option-item" data-value="NP0243_spr">카구야_2</div>
                <div class="option-item" data-value="NP0242_spr">카구야_2(가면)</div>
                <div class="option-item" data-value="CH0306_spr">카노에</div>
                <div class="option-item" data-value="karin_spr">카린</div>
                <div class="option-item" data-value="CH0282_spr">카린(교복)</div>
                <div class="option-item" data-value="CH0100_spr">카린(바니걸)</div>
                <div class="option-item" data-value="CH0089_spr">카스미</div>
                <div class="option-item" data-value="CH0328_spr">카스미(수영복)</div>
                <div class="option-item" data-value="NP0280_spr">카스미(수영복)_2</div>
                <div class="option-item" data-value="NP0015_spr">카야</div>
                <div class="option-item" data-value="kaede_spr">카에데</div>
                <div class="option-item" data-value="CH0256_spr">카에데(가이드)</div>
                <div class="option-item" data-value="NP0054_spr">카에데(체육복)</div>
                <div class="option-item" data-value="kayoko_spr">카요코</div>
                <div class="option-item" data-value="CH0239_spr">카요코(드레스)</div>
                <div class="option-item" data-value="CH0086_spr">카요코(새해)</div>
                <div class="option-item" data-value="NP0118_spr">카요코(승무복)</div>
                <div class="option-item" data-value="CH0213_spr">카이</div>
                <div class="option-item" data-value="NP0251_spr">카이_2</div>
                <div class="option-item" data-value="kazusa_spr">카즈사</div>
                <div class="option-item" data-value="CH0250_spr">카즈사(밴드)</div>
                <div class="option-item" data-value="NP0188_spr">카즈사(밴드)_2</div>
                <div class="option-item" data-value="NP0226_spr">카즈사(할로윈)</div>
                <div class="option-item" data-value="CH0107_spr">카호</div>
                <div class="option-item" data-value="CH0170_spr">칸나</div>
                <div class="option-item" data-value="NP0105_spr">칸나(부상)</div>
                <div class="option-item" data-value="CH0260_spr">칸나(수영복)</div>
                <div class="option-item" data-value="CH0335_spr">케이</div>
                <div class="option-item" data-value="NP0269_spr">케이(데카그라마톤)</div>
                <div class="option-item" data-value="CH0335_noweapon_spr">케이(비무장)</div>
                <div class="option-item" data-value="NP0241_spr">케이(로봇)</div>
                <div class="option-item" data-value="CH0264_spr">코노카</div>
                <div class="option-item" data-value="CH0198_spr">코유키</div>
                <div class="option-item" data-value="CH0162_spr">코유키(바니걸)</div>
                <div class="option-item" data-value="CH0310_spr">코유키(파자마)</div>
                <div class="option-item" data-value="CH0137_spr">코코나</div>
                <div class="option-item" data-value="CH0226_spr">코쿠리코</div>
                <div class="option-item" data-value="kotori_spr">코토리</div>
                <div class="option-item" data-value="CH0185_spr">코토리(응원단)</div>
                <div class="option-item" data-value="NP0069_spr">코토리(체육복)</div>
                <div class="option-item" data-value="kotama_spr">코타마</div>
                <div class="option-item" data-value="CH0232_spr">코타마(캠핑)</div>
                <div class="option-item" data-value="CH0314_spr">코타마(파자마)</div>
                <div class="option-item" data-value="koharu_spr">코하루</div>
                <div class="option-item" data-value="CH0205_spr">코하루(수영복)</div>
                <div class="option-item" data-value="NP0007_spr">코하루(체육복)</div>
                <div class="option-item" data-value="NP0008_spr">코하루(학교 수영복)</div>
                <div class="option-item" data-value="CH0173_spr">쿠루미</div>
                <div class="option-item" data-value="NP0140_spr">쿠루미(비무장)</div>
                <div class="option-item" data-value="NP0038_spr">쿠즈노하</div>
                <div class="option-item" data-value="kirara_spr">키라라</div>
                <div class="option-item" data-value="kirino_spr">키리노</div>
                <div class="option-item" data-value="NP0220_spr">키리노(아이돌)</div>
                <div class="option-item" data-value="CH0262_spr">키리노(수영복)</div>
                <div class="option-item" data-value="CH0139_spr">키사키</div>
                <div class="option-item" data-value="NP0216_spr">키사키(변장)</div>
                <div class="option-item" data-value="CH0225_spr">키쿄</div>
                <div class="option-item" data-value="CH0300_spr">키쿄(수영복)</div>
                <div class="option-item" data-value="CH0229_spr">타카네</div>
                <div class="option-item" data-value="CH0187_spr">토키</div>
                <div class="option-item" data-value="NP0078_spr">토키(모드2)</div>
                <div class="option-item" data-value="NP0080_spr">토키(부상)</div>
                <div class="option-item" data-value="NP0079_spr">토키(아비 에슈흐)</div>
                <div class="option-item" data-value="NP0123_spr">토키(아비 에슈흐)(부상)</div>
                <div class="option-item" data-value="tomoe_spr">토모에</div>
                <div class="option-item" data-value="CH0271_spr">토모에(치파오)</div>
                <div class="option-item" data-value="CH0308_spr">토키(교복)</div>
                <div class="option-item" data-value="CH0333_spr">토키(무장)</div>
                <div class="option-item" data-value="CH0211_spr">토키(바니걸)</div>
                <div class="option-item" data-value="NP0035_spr">프라나</div>
                <div class="option-item" data-value="pina_spr">피나</div>
                <div class="option-item" data-value="CH0257_spr">피나(가이드)</div>
                <div class="option-item" data-value="hanako_spr">하나코</div>
                <div class="option-item" data-value="CH0209_spr">하나코(수영복)</div>
                <div class="option-item" data-value="NP0151_spr">하나코(수영복)_2</div>
                <div class="option-item" data-value="NP0110_spr">하나코(승무복)</div>
                <div class="option-item" data-value="NP0003_spr">하나코(체육복)</div>
                <div class="option-item" data-value="NP0004_spr">하나코(학교 수영복)</div>
                <div class="option-item" data-value="hanae_spr">하나에</div>
                <div class="option-item" data-value="NP0076_spr">하나에(응원단)</div>
                <div class="option-item" data-value="CH0195_spr">하나에(크리스마스)</div>
                <div class="option-item" data-value="hare_spr">하레</div>
                <div class="option-item" data-value="CH0233_spr">하레(캠핑)</div>
                <div class="option-item" data-value="CH0311_spr">하레(파자마)</div>
                <div class="option-item" data-value="haruna_spr">하루나</div>
                <div class="option-item" data-value="CH0191_spr">하루나(새해)</div>
                <div class="option-item" data-value="CH0193_spr">하루나(체육복)</div>
                <div class="option-item" data-value="haruka_spr">하루카</div>
                <div class="option-item" data-value="CH0087_spr">하루카(새해)</div>
                <div class="option-item" data-value="CH0247_spr">하루카(드레스)</div>
                <div class="option-item" data-value="CH0249_spr">하루카(정장)</div>
                <div class="option-item" data-value="hasumi_spr">하스미</div>
                <div class="option-item" data-value="CH0291_spr">하스미(수영복)</div>
                <div class="option-item" data-value="CH0190_spr">하스미(체육복)</div>
                <div class="option-item" data-value="NP0033_spr">하이네</div>
                <div class="option-item" data-value="CH9999_spr">하츠네 미쿠</div>
                <div class="option-item" data-value="CH0141_spr">후부키</div>
                <div class="option-item" data-value="CH0261_spr">후부키(수영복)</div>
                <div class="option-item" data-value="NP0219_spr">후부키(아이돌)</div>
                <div class="option-item" data-value="hoshino_spr">호시노</div>
                <div class="option-item" data-value="CH0241_spr">호시노(1학년)</div>
                <div class="option-item" data-value="NP0167_spr">호시노(1학년)(학교 수영복)</div>
                <div class="option-item" data-value="NP0173_spr">호시노(2학년)</div>
                <div class="option-item" data-value="NP0204_spr">호시노(2학년)_2</div>
                <div class="option-item" data-value="CH0258_spr">호시노(무장)</div>
                <div class="option-item" data-value="NP0179_spr">호시노(무장)(부상)</div>
                <div class="option-item" data-value="NP0196_spr">호시노(무장)_2</div>
                <div class="option-item" data-value="NP0200_spr">호시노(무장)_2(부상)</div>
                <div class="option-item" data-value="NP0197_spr">호시노(무장)_3</div>
                <div class="option-item" data-value="NP0201_spr">호시노(무장)_3(부상)</div>
                <div class="option-item" data-value="hoshino_robber_spr">호시노(복면)</div>
                <div class="option-item" data-value="hoshino_swimsuit_spr">호시노(수영복)</div>
                <div class="option-item" data-value="NP0063_spr">호시노(수영복)(복면)</div>
                <div class="option-item" data-value="NP0045_spr">호시노(체육복)</div>
                <div class="option-item" data-value="NP0186_spr">호시노(테러화)</div>
                <div class="option-item" data-value="fuuka_spr">후우카</div>
                <div class="option-item" data-value="CH0177_spr">후우카(새해)</div>
                <div class="option-item" data-value="CH0290_spr">후우카(사복)</div>
                <div class="option-item" data-value="CH0318_spr">후유</div>
                <div class="option-item" data-value="hina_spr">히나</div>
                <div class="option-item" data-value="CH0230_spr">히나(드레스)</div>
                <div class="option-item" data-value="NP0017_spr">히나(부상)</div>
                <div class="option-item" data-value="CH0063_spr">히나(수영복)</div>
                <div class="option-item" data-value="NP0205_spr">히나(잠옷)</div>
                <div class="option-item" data-value="hinata_spr">히나타</div>
                <div class="option-item" data-value="CH0210_spr">히나타(수영복)</div>
                <div class="option-item" data-value="CH0316_spr">히로미</div>
                <div class="option-item" data-value="CH0159_spr">히마리</div>
                <div class="option-item" data-value="CH0332_spr">히마리(무장)</div>
                <div class="option-item" data-value="NP0278_spr">히마리(무장)_2</div>
                <div class="option-item" data-value="NP0161_spr">히마리(방한복)</div>
                <div class="option-item" data-value="NP0112_spr">히마리(승무복)</div>
                <div class="option-item" data-value="NP0276_spr">히마리(?)</div>
                <div class="option-item" data-value="hibiki_spr">히비키</div>
                <div class="option-item" data-value="CH0181_spr">히비키(응원단)</div>
                <div class="option-item" data-value="hiyori_spr">히요리</div>
                <div class="option-item" data-value="CH0269_spr">히요리(수영복)</div>
                <div class="option-item" data-value="CH0277_spr">히죽히죽 교수</div>
                <div class="option-item" data-value="CH0242_spr">히카리</div>
                <div class="option-item" data-value="hihumi_spr">히후미</div>
                <div class="option-item" data-value="hihumi_robber_spr">히후미(복면)</div>
                <div class="option-item" data-value="CH0058_spr">히후미(수영복)</div>
                <div class="option-item" data-value="NP0005_spr">히후미(체육복)</div>
                <div class="option-item" data-value="NP0006_spr">히후미(학교 수영복)</div>
                <div class="option-item" data-value="" disabled>-------------------------------</div>
                <div class="option-item" data-value="NP0085_spr">AMAS</div>
                <div class="option-item" data-value="NP0122_spr">AMAS_2</div>
                <div class="option-item" data-value="NP0203_spr">DJ B.o.B</div>
                <div class="option-item" data-value="blacksuit_spr">검은 양복</div>
                <div class="option-item" data-value="NP0113_spr">검은 양복(부상)</div>
                <div class="option-item" data-value="NP0011_spr">골콩트 & 데칼코마니</div>
                <div class="option-item" data-value="NP0263_spr">나팔을 부는 천사</div>
                <div class="option-item" data-value="NP0264_spr">나팔을 부는 천사_2</div>
                <div class="option-item" data-value="NP0018_spr">드럼통</div>
                <div class="option-item" data-value="NP0031_spr">데카르트</div>
                <div class="option-item" data-value="NP0142_spr">데카르트_2</div>
                <div class="option-item" data-value="NP0282_spr">데카그라마톤(?)</div>
                <div class="option-item" data-value="NP0180_spr">돈 아란치노</div>
                <div class="option-item" data-value="shibasekimaster_spr">마스터 시바</div>
                <div class="option-item" data-value="Maestro_spr">마에스트로</div>
                <div class="option-item" data-value="NP0114_spr">마에스트로(부상)</div>
                <div class="option-item" data-value="NP0030_spr">말쿠트</div>
                <div class="option-item" data-value="NP0119_spr">말쿠트_2</div>
                <div class="option-item" data-value="Yukata_StreetGhostes_MG_spr">망량즈</div>
                <div class="option-item" data-value="Yukata_StreetGhostes_RL_spr">망량즈_2</div>
                <div class="option-item" data-value="NP0026_spr">모브(게헨나)</div>
                <div class="option-item" data-value="NP0207_spr">모브(경극부)</div>
                <div class="option-item" data-value="NP0208_spr">모브(경극부)_2</div>
                <div class="option-item" data-value="NP0027_spr">모브(만마전)</div>
                <div class="option-item" data-value="NP0036_spr">모브(밀레니엄)</div>
                <div class="option-item" data-value="NP0084_spr">모브(밀레니엄)_2</div>
                <div class="option-item" data-value="BunnyGirl_SR_spr">모브(바니걸)</div>
                <div class="option-item" data-value="Police_Valkyrie_SG_spr">모브(발키리)</div>
                <div class="option-item" data-value="NP0134_spr">모브(발키리)(수영복)</div>
                <div class="option-item" data-value="NP0150_spr">모브(백귀야행)</div>
                <div class="option-item" data-value="NP0156_spr">모브(백귀야행)_2</div>
                <div class="option-item" data-value="royalguard_redwinter1_spr">모브(붉은겨울)</div>
                <div class="option-item" data-value="NP0152_spr">모브(산해경)</div>
                <div class="option-item" data-value="NP0157_spr">모브(산해경)_2</div>
                <div class="option-item" data-value="fuuki_normal1_spr">모브(선도부)</div>
                <div class="option-item" data-value="NP0025_spr">모브(시스터후드)</div>
                <div class="option-item" data-value="NP0181_spr">모브(아란치노 공작원)</div>
                <div class="option-item" data-value="NP0143_spr">모브(아란치노 조직원)</div>
                <div class="option-item" data-value="NP0252_spr">모브(와일드헌트)</div>
                <div class="option-item" data-value="NP0253_spr">모브(와일드헌트)_2</div>
                <div class="option-item" data-value="NP0182_spr">모브(인력거)</div>
                <div class="option-item" data-value="Arius_GL1_spr">모브(아리우스 GL)</div>
                <div class="option-item" data-value="NP0256_spr">모브(아리우스 GL)_2</div>
                <div class="option-item" data-value="NP0257_spr">모브(아리우스 SMG)</div>
                <div class="option-item" data-value="Soldier_OnsenDev_RL_spr">모브(온천개발부)</div>
                <div class="option-item" data-value="NP0023_spr">모브(응급의학부)</div>
                <div class="option-item" data-value="Justice_normal1_spr">모브(정의실현부)</div>
                <div class="option-item" data-value="NP0060_spr">모브(정의실현부)(체육복)</div>
                <div class="option-item" data-value="NP0106_spr">모브(총학생회)</div>
                <div class="option-item" data-value="NP0107_spr">모브(총학생회)_2</div>
                <div class="option-item" data-value="NP0149_spr">모브(클로렐라 관찰부)</div>
                <div class="option-item" data-value="NP0255_spr">모브(클로렐라 관찰부)(수영복)</div>
                <div class="option-item" data-value="NP0024_spr">모브(트리니티)</div>
                <div class="option-item" data-value="NP0022_spr">모브(티파티)</div>
                <div class="option-item" data-value="NP0028_spr">모브(티파티)_2</div>
                <div class="option-item" data-value="NP0245_spr">모브(폭주족)</div>
                <div class="option-item" data-value="NP0246_spr">모브(폭주족)_2</div>
                <div class="option-item" data-value="NP0138_spr">모브(하이랜더)</div>
                <div class="option-item" data-value="NP0158_spr">모브(하이랜더)_2</div>
                <div class="option-item" data-value="NP0159_spr">모브(하이랜더)_3</div>
                <div class="option-item" data-value="NP0121_spr">모브(현룡문)</div>
                <div class="option-item" data-value="Cook_GenbuStore_SG_spr">모브(현무상회)</div>
                <div class="option-item" data-value="NP0042_spr">무명사제</div>
                <div class="option-item" data-value="NP0091_spr">무명수호자</div>
                <div class="option-item" data-value="NP0074_spr">바르바라</div>
                <div class="option-item" data-value="NP0029_spr">베아트리체</div>
                <div class="option-item" data-value="sukeban_HMG_spr">불량배</div>
                <div class="option-item" data-value="sukeban_SMG_spr">불량배_2</div>
                <div class="option-item" data-value="sukeban_SR_spr">불량배_3</div>
                <div class="option-item" data-value="schoolGirl01_SukebanSwim_SMG_spr">불량배(수영복)</div>
                <div class="option-item" data-value="schoolGirl02_SukebanSwim_MG_spr">불량배(수영복)_2</div>
                <div class="option-item" data-value="NP0130_spr">소프</div>
                <div class="option-item" data-value="citizen_animal1_spr">시민</div>
                <div class="option-item" data-value="Citizen_animal5_spr">시민_2</div>
                <div class="option-item" data-value="Citizen_animal5_eyepatch_spr">시민_2(안대)</div>
                <div class="option-item" data-value="Citizen_animal6_spr">시민_3</div>
                <div class="option-item" data-value="Citizen_animal6_bandagespr">시민_3(붕대)</div>
                <div class="option-item" data-value="Citizen_animal7_spr">시민_4</div>
                <div class="option-item" data-value="engineer_animal3_spr">시민_5</div>
                <div class="option-item" data-value="market_animal2_spr">시민_6</div>
                <div class="option-item" data-value="NP0086_spr">시민_7</div>
                <div class="option-item" data-value="NP0087_spr">시민_8</div>
                <div class="option-item" data-value="NP0092_spr">시민_9</div>
                <div class="option-item" data-value="NP0093_spr">시민_10</div>
                <div class="option-item" data-value="NP0094_spr">시민_11</div>
                <div class="option-item" data-value="NP0132_spr">시민_12</div>
                <div class="option-item" data-value="NP0133_spr">시민_13</div>
                <div class="option-item" data-value="NP0135_spr">시민_14</div>
                <div class="option-item" data-value="NP0136_spr">시민_15</div>
                <div class="option-item" data-value="citizen_borot1_spr">시민 로봇_1</div>
                <div class="option-item" data-value="Citizen_borot2_spr">시민 로봇_2</div>
                <div class="option-item" data-value="NP0129_spr">아인</div>
                <div class="option-item" data-value="NP0163_spr">얼굴 없는 카타시로</div>
                <div class="option-item" data-value="NP0131_spr">오르</div>
                <div class="option-item" data-value="Automata_Decagrammaton1_spr">오토마타_1</div>
                <div class="option-item" data-value="Automata_Kurokamegumi1_spr">오토마타_2</div>
                <div class="option-item" data-value="Automata_PMC1_spr">오토마타_3</div>
                <div class="option-item" data-value="robot2_division_spr">오토마타_4</div>
                <div class="option-item" data-value="NP0116_spr">오토마타_5</div>
                <div class="option-item" data-value="yoheki_normal1_spr">용역</div>
                <div class="option-item" data-value="yoheki_redwinter1_spr">용역(붉은겨울)</div>
                <div class="option-item" data-value="utahaturret_spr">우타하 터렛</div>
                <div class="option-item" data-value="Yustina_SR1_spr">유스티나 성도</div>
                <div class="option-item" data-value="NP0137_spr">유스티나 성도(수영복)</div>
                <div class="option-item" data-value="NP0104_spr">제너럴</div>
                <div class="option-item" data-value="NP0165_spr">지하생활자</div>
                <div class="option-item" data-value="NP0250_spr">최강 일각 라이온</div>
                <div class="option-item" data-value="NP0160_spr">츠쿠모가미</div>
                <div class="option-item" data-value="pmcdirector_spr">카이저 PMC 이사</div>
                <div class="option-item" data-value="NP0034_spr">카이저 PMC 이사(수영복)</div>
                <div class="option-item" data-value="kaitenranger_green_spr">카이텐 그린</div>
                <div class="option-item" data-value="kaitenranger_red_spr">카이텐 레드</div>
                <div class="option-item" data-value="kaitenranger_black_spr">카이텐 블랙</div>
                <div class="option-item" data-value="kaitenranger_yellow_spr">카이텐 옐로</div>
                <div class="option-item" data-value="kaitenranger_pink_spr">카이텐 핑크</div>
                <div class="option-item" data-value="NP0247_spr">코기 브레이브스 감독</div>
                <div class="option-item" data-value="peroro_spr">페로로</div>
                <div class="option-item" data-value="NP0115_spr">프랜시스 & 데칼코마니</div>
                <div class="option-item" data-value="NP0095_spr">프레나파테스</div>
                <div class="option-item" data-value="NP0096_spr">프레지던트</div>
                <div class="option-item" data-value="helmetdan_red1_spr">헬멧단(레드)</div>
                <div class="option-item" data-value="helmetdan_black1_spr">헬멧단(블랙)</div>
                <div class="option-item" data-value="" disabled>-------------------------------</div>
                <div class="option-item" data-value="Rin_raiddungeon">린(총력전)</div>
                <div class="option-item" data-value="Momoka_weekdungeon">모모카(던전)</div>
                <div class="option-item" data-value="sora_shop">소라(상점)</div>
                <div class="option-item" data-value="NP0032_npc">아오이(총결산)</div>
                <div class="option-item" data-value="NP0013_quest">아유무(임무)</div>
                <div class="option-item" data-value="arona_workpage">태블릿</div>
                <div class="option-item" data-value="arona_workpage_daytime">태블릿(최종장 후 낮)</div>
                <div class="option-item" data-value="arona_workpage_nighttime">태블릿(최종장 후 밤)</div>
            </div>
        </div>

        <button onclick="toggleFullscreen()" style="height: 35px; font-size: 15px">
            전체화면
        </button>
        <div class="anim-container-wrapper">
            <div class="slider-header" style="margin-bottom: 10px;">
                <span>애니메이션 목록</span>
            </div>
            <div id="animation-list"></div>
        </div>

        <button onclick="takeScreenshot()" style="height: 35px; font-size: 15px">이미지 다운로드</button>
        <button id="record-btn" onclick="startAutoRecording()" style="background-color: #e74c3c; height: 35px; font-size: 15px">녹화</button>
    </div>

    <div id="player-container"></div>

    <script src="https://unpkg.com/@esotericsoftware/spine-player@4.2.*/dist/iife/spine-player.js"></script>
    
    <script>
        let player = null;
        let selectedCharacter = "CH0222_spr";

        function buildAnimationList(player) {
            const list = document.getElementById("animation-list");
            list.innerHTML = "";

            const animations = player.skeleton.data.animations;
            const animNames = animations.map(a => a.name);

            const processedBases = new Set();

            animations.forEach(anim => {
                const name = anim.name;
                
                const match = name.match(/(.+?)(_[AM])/);
                let displayName = name;
                let isSet = false;
                let baseName = name;

                if (match) {
                    baseName = match[1];
                    displayName = baseName;
                    isSet = true;
                    
                    if (processedBases.has(baseName)) return;
                    processedBases.add(baseName);
                }

                const btn = document.createElement("button");
                btn.textContent = displayName;

                btn.onclick = () => {
                    Array.from(list.children).forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    if (isSet) {
                        const animM = baseName + "_M";
                        const animA = baseName + "_A";

                        player.animationState.setAnimation(1, animM, true);
                        if (animNames.includes(animA)) {
                            player.animationState.setAnimation(2, animA, true);
                        }
                    } else {
                        if (name === "Idle_01") {
                            player.animationState.setAnimation(0, "Idle_01", true);
                            player.animationState.setEmptyAnimation(1, 0.2);
                            player.animationState.setEmptyAnimation(2, 0.2);
                        } else {
                            player.animationState.setAnimation(1, name, true);
                            player.animationState.setEmptyAnimation(2, 0.2);
                        }
                    }
                };
                list.appendChild(btn);
            });
        }

        function toggleFullscreen() {
            const container = document.getElementById('player-container');

            if (!document.fullscreenElement) {
                if (container.requestFullscreen) {
                container.requestFullscreen();
                } else if (container.webkitRequestFullscreen) {
                container.webkitRequestFullscreen();
                }
            } else {
                if (document.exitFullscreen) {
                document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
                }
            }
            }


        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const toggleBtn = document.getElementById('menu-toggle');
            sidebar.classList.toggle('open');
            toggleBtn.innerText = sidebar.classList.contains('open') ? "✕ 닫기" : "☰ 메뉴 열기";
        }

        const searchInput = document.getElementById('charSearch');
        const optionsList = document.getElementById('options-list');
        const optionItems = document.querySelectorAll('.option-item');

        searchInput.addEventListener('click', () => {
            optionsList.classList.add('show');
        });

        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-container')) {
                optionsList.classList.remove('show');
            }
        });

        searchInput.addEventListener('input', function() {
            const filter = this.value.toLowerCase();
            optionsList.classList.add('show');
            
            optionItems.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(filter)) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
            });
        });

        optionItems.forEach(item => {
            item.addEventListener('click', function() {
                const val = this.getAttribute('data-value');
                const name = this.textContent;
                
                selectedCharacter = val;
                searchInput.value = name;
                optionsList.classList.remove('show');
                
                loadSpine();
            });
        });

        async function startAutoRecording() {
            const canvas = document.querySelector('#player-container canvas');
            const recordBtn = document.getElementById('record-btn');
            
            if (!player || !canvas) return;

            if (player.skeleton) {
                player.skeleton.premultipliedAlpha = false; 
            }

            const originalBg = player.config.backgroundColor;
            player.config.backgroundColor = "#000000FF"; 

            const state = player.animationState;
            const track = state.getCurrent(0);
            if (!track) return;
            track.trackTime = 0;
            player.play();

            const stream = canvas.captureStream(60);
            const options = { 
                mimeType: 'video/webm; codecs=vp9',
                videoBitsPerSecond: 30 * 1024 * 1024
            };
            
            let recordedChunks = [];
            const mediaRecorder = new MediaRecorder(stream, options);

            mediaRecorder.ondataavailable = (e) => {
                if (e.data.size > 0) recordedChunks.push(e.data);
            };

            mediaRecorder.onstop = () => {
                const blob = new Blob(recordedChunks, { type: 'video/webm' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `spine_no_pma_${Date.now()}.webm`;
                a.click();
                
                player.config.backgroundColor = originalBg;

                if (recordBtn) {
                    recordBtn.disabled = false;
                    recordBtn.innerText = "녹화";
                }
            };

            mediaRecorder.start();
            if (recordBtn) {
                recordBtn.disabled = true;
                recordBtn.innerText = "🔴 녹화 중...";
            }

            const animationDuration = track.animation.duration;
            setTimeout(() => {
                if (mediaRecorder && mediaRecorder.state === "recording") {
                    mediaRecorder.stop();
                }
            }, (animationDuration * 1000) + 200);
        }

        async function takeScreenshot() {
            const canvas = document.querySelector('#player-container canvas');
            if (!player || !canvas) return;

            const gl = canvas.getContext("webgl2", { preserveDrawingBuffer: true }) || 
                    canvas.getContext("webgl", { preserveDrawingBuffer: true });
            
            const width = canvas.width;
            const height = canvas.height;
            
            const pixels = new Uint8Array(width * height * 4);
            
            gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);

            let minX = width, minY = height, maxX = 0, maxY = 0;
            let found = false;

            for (let y = 0; y < height; y++) {
                for (let x = 0; x < width; x++) {
                    const index = (y * width + x) * 4;
                    const alpha = pixels[index + 3];
                    if (alpha > 5) {
                        if (x < minX) minX = x;
                        if (x > maxX) maxX = x;
                        if (y < minY) minY = y;
                        if (y > maxY) maxY = y;
                        found = true;
                    }
                }
            }

            if (!found) {
                alert("이미지를 감지할 수 없습니다.");
                return;
            }

            const padding = 5;
            const cropWidth = (maxX - minX) + (padding * 2);
            const cropHeight = (maxY - minY) + (padding * 2);

            const tempCanvas = document.createElement('canvas');
            tempCanvas.width = cropWidth;
            tempCanvas.height = cropHeight;
            const tempCtx = tempCanvas.getContext('2d');

            tempCtx.drawImage(
                canvas,
                minX - padding, height - maxY - padding, cropWidth, cropHeight,
                0, 0, cropWidth, cropHeight
            );

            const link = document.createElement('a');
            link.download = `spine_character_${Date.now()}.png`;
            link.href = tempCanvas.toDataURL("image/png");
            link.click();
        }

        function loadSpine() {
            const container = document.getElementById('player-container');
            container.innerHTML = '';

            player = new spine.SpinePlayer("player-container", {
                skelUrl: `assets/${selectedCharacter}.skel`, 
                atlasUrl: `assets/${selectedCharacter}.atlas`,
                showControls: false,
                premultipliedAlpha: false,
                backgroundColor: "#00000000",
                alpha: true,
                preserveDrawingBuffer: true,
                viewport: {
                    autoSize: true,
                    padLeft: "1%", padRight: "1%", padTop: "1%", padBottom: "1%"
                },
                success: function(p) {
                    p.animationState.setAnimation(0, "Idle_01", true);
                    buildAnimationList(player);
                }
            });
        }

        window.onload = loadSpine;
    </script>
</body>
</html>